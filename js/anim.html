<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://code.jquery.com/jquery-1.8.3.js"></script>
    <title>Document</title>
    <style>
        /* h1{
            position:relative;
        } */
    </style>
</head>
<body>
    <h1>你好呀，小傻瓜</h1>
<script>
$.fn.boomText = function(type){
    var height = this.outerHeight(true);
    if(type == 'world'){
        //获取当前高度
        console.log(height)
        this.html(function(){
            var arr = $(this).text().split('').map(function(word){
                return `<span style="position:relative;top:${height}px">${word}</span>`
            })
            return arr.join('')
        })

        var index = 0
        var $boomTexts = this.find('span')
        var clock = setInterval(function(){
            // $boomTexts.eq(index).addClass('animated' + type)
            $boomTexts.eq(index).animate({
                top:0
            })
            index++
            if(index >= $boomTexts.length){
                clearInterval(clock)
            } 
        },300)           
     }

      if(type == 'line'){
        var text = this.text()
        var html = `<span class="top" style="position:relative;top:${height}px">${this.html()}</span>`
        this.html(html)
        $boomTexts = this.find('span')
        var clock = setInterval(function(){
            $boomTexts.animate({
                top:'0'
            })
            console.log('sss')
            clearInterval(clock)
        },300)
      } 
}

$('h1').boomText('line')
</script>
</body>
</html>